{% extends 'contas/base.html' %} {% block content %}
<div class="container">
    <div class="table-wrapper">
        <div class="table-title">
            <div class="row">
                <div class="col-sm-6">
                    <h2><b>{{titulo}}</b></h2>
                </div>
            </div>
        </div>
        <div class="row">
            <form action="{{url}}" method="post" class="mt-5 mb-5">
                <div class="form-row mt-2">
                    <label for="inputDate" class="col-sm-2 font-weight-bold">{{descricaofiltro}}</label>
                    <input type="date" class="form-control-sm col-sm-2" id="inputDate" name="datafiltro" value="{{data_busca}}" required>
                    <button type="submit" class="btn btn-dark btn-sm ml-2 col-sm-1 btn-filter">Filtrar</button>
                </div>
            </form>
        </div>
        <div class="alert alert-primary text-center" role="alert">
            Foram localizados <span class="badge badge-light">{{ listaContas|length }}</span> registro(s)
        </div>

        <div class="row">
            {% if tipo == "pagar" %}
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Name</th>
                        <th>Data Pagamento</th>
                        <th>Data Vencimento</th>
                        <th>Valor</th>
                    </tr>
                </thead>
                <tbody>
                    {% for conta in listaContas %}
                    <tr>
                        <th scope="row"></th>
                        <td>{{conta.nome}}</td>
                        <td>{{conta.data_pagamento}}</td>
                        <td>{{conta.data_vencimento}}</td>
                        <td>{{conta.valor}}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% else %}
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Descrição</th>
                        <th>Data Recebimento</th>
                        <th>Data Expectativa</th>
                        <th>Valor</th>
                    </tr>
                </thead>
                <tbody>
                    {% for conta in listaContas %}
                    <tr>
                        <th scope="row"></th>
                        <td>{{conta.descricao}}</td>
                        <td>{{conta.data_recebimento}}</td>
                        <td>{{conta.data_expectativa}}</td>
                        <td>{{conta.valor}}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% endif %}
        </div>

        <div class="alert alert-secondary" role="alert">
            <div class="text-center">
                Valor total dos registros {{valorTotal}}
            </div>
        </div>
    </div>

    <div class="alert alert-danger mt-3" role="alert">
        <h4 class="alert-heading">Atenção</h4>
        <p>É necessário realizar os filtros acima</p>
        <hr>
        <p class="mb-0">Caso tenha realizado não foi encontrado registro pelos filtros selecionados!</p>
    </div>

</div>


{% endblock %}